<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UAP Pemprograman Web</title>
    <style>
      table,
      th,
      td,
      tr {
        border: 1px solid black;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <table>
        <tr>
          <th>Kode</th>
          <th>Barang</th>
          <th>Harga</th>
        </tr>
        <tr>
          <td>001</td>
          <td>Barang A</td>
          <td>10.000</td>
        </tr>
        <tr>
          <td>002</td>
          <td>Barang B</td>
          <td>20.000</td>
        </tr>
        <tr>
          <td>003</td>
          <td>Barang C</td>
          <td>30.000</td>
        </tr>
      </table>

      <h1>Inputan User</h1>

      <form>
        <table>
            <tr>
                <td>Masukan Kode</td>
                <td>:</td>
                <td><input type="text" id="kode"></td>
            </tr>
            <tr>
                <td>Banyaknya Barang</td>
                <td>:</td>
                <td><input type="text" id="qty"></td>
            </tr>
            <tr>
                <td colspan="3"><button onclick="cekInput()">Submit</button></td>
            </tr>
        </table>
      </form>
        
      </div>
    </div>
    <script>
        function cekInput(){
            var kode = document.getElementById("kode").value;
            var qty = document.getElementById("qty").value;
            var cekAngka = Boolean(isNaN(kode) || isNaN(qty));
            
            if(kode == "" || qty == "" || qty<0 || cekAngka){
                alert("Mohon isi dengan benar");
            }else{
                hitung(kode,qty)
            }
        }

        function hitung(kode,qty){

            var harga;

            switch(kode){
                case "001":
                    harga = 10000;
                    break;
                case "002":
                    harga = 20000;
                    break
                case "003":
                    harga = 30000;
                    break
                default:
                    alert("kode tidak ditemukan");
                    break;
            }
            
            //Hitung total harga
            var total_harga = harga*qty; 
            alert("total pembayaran adalah " + total_harga);
            
            //Pembayaran User
            var pembayaran = prompt("masukan uang user: ");
            if(!isNaN(pembayaran)){
                if(pembayaran > total_harga){
                    var kembalian = pembayaran - total_harga;
                    alert("total kembalian anda adalah " + kembalian);
                }if(pembayaran < total_harga){
                    var kekurangan = total_harga - pembayaran;
                    alert("Uang anda kurang " +kekurangan);
                }if(pembayaran == total_harga){
                    alert("Tidak ada kembalian");
                }
            }else{
                alert("Mohon bayar pakai angka")
            }
        }
    </script>
  </body>
</html>
